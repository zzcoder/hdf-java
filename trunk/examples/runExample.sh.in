#!/bin/sh
#****************************************************************************
#* NCSA HDF                                                                 *
#* National Comptational Science Alliance                                   *
#* University of Illinois at Urbana-Champaign                               *
#* 605 E. Springfield, Champaign IL 61820                                   *
#*                                                                          *
#* For conditions of distribution and use, see the accompanying             *
#* java-hdf5/COPYING file.                                                  *
#*                                                                          *
#****************************************************************************/

##  These paths are taken from the configure for the Make
##  This program checks that the libraries are installed
##  in these paths.
##
##  Edit these paths to debug
##

# where the new builds exist
HDFBLD_HOME=@abs_top_builddir@
export HDFBLD_HOME

JH5INSTALLDIR=@JH5INST@
RM=@RM@

LIBDIR=$HDFBLD_HOME"/lib"

CLASSPATH="..:"$LIBDIR"/jhdf5.jar"

LD_LIBRARY_PATH=$LIBDIR"/@JAVATARG@:"$LIBDIR
DYLD_LIBRARY_PATH=$LIBDIR"/@JAVATARG@:"$LIBDIR

export CLASSPATH
export LD_LIBRARY_PATH
export DYLD_LIBRARY_PATH

@JAVA@ -Djava.library.path=$LD_LIBRARY_PATH "$1" > "$1".out
if diff "$1".out testfiles/"$1".txt > /dev/null; 
then exit 0
else exit 1
fi
