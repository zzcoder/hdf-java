#!/bin/sh

TESTS="testh4file testh5file"

JH45INSTALLDIR=@JH45INST@

LIBDIR=$JH45INSTALLDIR"/lib"

CLASSPATH="../..:"$LIBDIR"/jh4toh5.jar:"$LIBDIR"/jhdf.jar:"$LIBDIR"/jhdf5.jar"

LD_LIBRARY_PATH=$LIBDIR"/@JAVATARG@"

export CLASSPATH
export LD_LIBRARY_PATH

cp ../h4toh5/testfiles/*.hdf .
cp ../h4toh5/Expected/*.h5 .

TESTFILES="vg_all_test"

#HDF4 tests
for i in $TESTFILES
do

@JAVA@ -Djava.library.path=$LD_LIBRARY_PATH -Dncsa.hdf.hdflib.HDFLibrary.hdflib=$LIBDIR"/@JAVATARG@/libjhdf.so" test.object.TestH4File $i.hdf


# check against correct output....

done

#HDF5 tests
for i in $TESTFILES
do

@JAVA@ -Djava.library.path=$LD_LIBRARY_PATH -Dncsa.hdf.hdf5lib.H5.hdf5lib=$LIBDIR"/@JAVATARG@/libjhdf5.so" test.object.TestH5File $i.h5


# check against correct output....

done
