#!/bin/sh

#****************************************************************************
#* NCSA HDF                                                                 *
#* National Comptational Science Alliance                                   *
#* University of Illinois at Urbana-Champaign                               *
#* 605 E. Springfield, Champaign IL 61820                                   *
#*                                                                          *
#* For conditions of distribution and use, see the accompanying             *
#* COPYING file.                                                            *
#*                                                                          *
#****************************************************************************/

JH45INSTALLDIR=@JH45INST@

LIBDIR=$JH45INSTALLDIR"/lib"

CLASSPATH=".:"$LIBDIR"/jh4toh5.jar:"$LIBDIR"/jhdf.jar:"$LIBDIR"/jhdf5.jar"

LD_LIBRARY_PATH=$LIBDIR"/solaris"

export CLASSPATH
export LD_LIBRARY_PATH

TESTS="linktest1 linktest2 linktest3 linktest4 linktest5"

echo "single library"
for i in $TESTS
do
echo "Test "$i

@JAVA@ -Djava.library.path=$LD_LIBRARY_PATH -Dncsa.hdf.hdf5lib.H5.hdf5lib=$LIBDIR"/@JAVATARG@/libjh4toh5.so" -Dncsa.hdf.h4toh5lib.h4toh5.h45lib=$LIBDIR"/@JAVATARG@/libjh4toh5.so" -Dncsa.hdf.hdflib.HDFLibrary.hdflib=$LIBDIR"/@JAVATARG@/libjh4toh5.so" $i

done

echo 
echo "separate libraries"

for i in $TESTS
do
echo "Test "$i

@JAVA@ -Djava.library.path=$LD_LIBRARY_PATH -Dncsa.hdf.hdf5lib.H5.hdf5lib=$LIBDIR"/@JAVATARG@/libjhdf5.so" -Dncsa.hdf.h4toh5lib.h4toh5.h45lib=$LIBDIR"/@JAVATARG@/libjh4toh5.so" -Dncsa.hdf.hdflib.HDFLibrary.hdflib=$LIBDIR"/@JAVATARG@/libjhdf.so" $i

done
