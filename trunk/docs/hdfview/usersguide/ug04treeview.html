<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.72 [en] (WinNT; U) [Netscape]">
   <meta name="Author" content="Robert E. McGrath">
   <title>HDFView User's Guide -- Tree Viewer</title>
</head>

<!-- BEGIN OF THE BODY -->
<body text="#000000" bgcolor="#FFFFFF" link="#0000EE" vlink="#551A8B" alink="#FF0000">

<a href="index.html">[Index]</a>
<a href="ug01introduction.html">[1]</a>
<a href="ug02start.html">[2]</a>
<a href="ug03objects.html">[3]</a>
<a href="ug04treeview.html">[4]</a>
<a href="ug05spreadsheet.html">[5]</a>
<a href="ug06imageview.html">[6]</a>
<a href="ug07textview.html">[7]</a>


<h1>
Chapter 4: The Tree Viewer</h1>
The Tree shows the objects in each open file, and supports navigation and
editing of the objects. Muliple files can be viewed and edited, and both
HDF4 and HDF5 files can be opened. The viewing and editing operations work
for both HDF4 and HDF5, although some operations cannot be implemented for
HDF4.

<p>Every HDF5 object appears in at least one group. A set of objects can be
stored together in a group. You can use the group object API functions
to create and manipulate the groups. With the groups, you can organize
the data objects in an HDF file. Objects in HDF4 may or may not belong to 
a group. An object that does not belong to any group is called lone object,
such as lone Vdata. To map HDF4 structure to HDF5 structure, a "dummy" root
group is created in the tree view and lone objects are put at the root group.

<p>Since objects can have names in more than one group, the set of all
objects in an HDF file is a directed graph. It is difficult to manipulate
and browse the graph on a 2D virtual screen. Instead of showing the directed
graph of the HDF file structure, HDFView displays HDF objects in an conventional
structure of a tree of "folders"; breaking the "loops" in the graph when
necessary. The tree viewer of HDFView provides users an easy way to browse
and manage HDF data objects in an HDF file. The following icons are used to
represent HDF objects:
<UL>
<LI><img SRC="images/icon_hdf4.gif"> --- HDF4 file
<LI><img SRC="images/icon_hdf5.gif"> --- HDF5 file
<LI><img SRC="images/icon_folderclose.gif"> --- Collapsed group folder
<LI><img SRC="images/icon_folderopen.gif"> --- Expanded group folder
<LI><img SRC="images/icon_dataset.gif"> --- HDF4 SDS or HDF5 scalar dataset
<LI><img SRC="images/icon_image.gif"> --- HDF4 GR image or HDF5 image
<LI><img SRC="images/icon_table.gif"> --- HDF4 Vdata or HDF5 compound dataset
</UL>

<dl>
<dt><a href="ug04treeview.html#ug04tree">4.1 Tree Viewer</a></dt>
<dt><a href="ug04treeview.html#ug04data">4.2 View Data Content</a></dt>
<dt><a href="ug04treeview.html#ug04metadata">4.3 Display Metadata and Attributes</a></dt>
<dt><a href="ug04treeview.html#ug04edit">4.4 Edit File and  File Structure</a></dt>
<dl>
<dt><a href="ug04treeview.html#ug04file">4.4.1 Create and Save File</a></dt>
<dt><a href="ug04treeview.html#ug04add">4.4.2 Add and Delete Object</a></dt>
<dt><a href="ug04treeview.html#ug04copy">4.4.3 Copy and Paste Object</a></dt>
<dt><a href="ug04treeview.html#ug04attribute">4.4.4 Add, Delete and Modify Attribute</a></dt>
</dl>
</dl>

<hr noshade size=1><a NAME="ug04tree"></a>
<h2>
4.1 Tree Viewer</h2>
Upon opening an HDF file, HDFView displays the tree structure of the HDF
file in the tree viewer (panel), which is at the left of the HDFView. Every
HDF file has exact one root group that is created when the file is created.
The root group is added to the root of the tree. When two or more files are
open, the root groups of the files are listed at the root the tree view. 

<p>Groups are presented as folders in the tree viewer. Opening and closing
folders, you can browse the individual HDF objects in the HDF file. Datasets,
images and tables are leaf objects in the tree. Clicking a leaf object,
you see the content of the object displayed in the data/document window
on the right of the HDFView. Figure 4.1 illustrates that an HDF4 file, annras.hdf,
and an HDF5 file, hdf5_test.h5, are currently open by the HDFView.

<center>
<p><img SRC="images/tree_view.gif" >
<br><b>Figure 4.1 The Tree Viewer</b></center>

<p>
To select an object in the tree, point mouse on the object and click once on the
object. You can open the data content of the selected data object from menu bar
or the popup menu. 

<p>The popup menu appears by clicking the right mouse button on the object
in the tree view. When a command is selected from the popup menu, the command
action will be taken on the object clicked.

<center>
<p><img SRC="images/menu_popup.gif" >
<br><b>Figure 4.2 The Object Popup Menu</b></center>

<p>The object menu in the HDFView menu bar contains the same commands in the
popup menu.

<center>
<p><img SRC="images/menu_object.gif" >
<br><b>Figure 4.3 The Object Menu</b></center>

<h2>
<a NAME="ug04data"></a>4.2 View Data Content</h2>
The Tree View allows the user to navigate the structure of the HDF file,
to select individual objects, and to view the content of the selected object.

<p>
You can open a data object in the tree by a double-mouse-click or selecting open
command from menu bar or popup menu. By default, data content is displayed as 
an image, a table or text based on its datatype.  See the following chapters 
for a detailed discussion of the data viewers.

<p>
Using "Open As", you can select a subset of dataset to display or change the
default display options. For example, you can display the data values of an image
in spreadsheet, or show a scalar dataset as an image. For multi-dimension dataset,
you can select any of two dimensions to display. The mouse-drag navigator allows 
you select a subset by dragging the mouse.

<center>
<p><img SRC="images/dataset_open_as.gif" >
<br><b>Figure 4.4 The Display Option</b></center>

<h2>
<a NAME="ug04metadata"></a>4.3 Display Metadata and Attributes</h2>

The metadata dialog appears by clicking the object (icon) in the tree with
the right button or select the "Properties" command from the "Object"
menu. The HDF metadata display contains two tabbed panes, showing the
general metadata and the user defined attributes.

<p>General metadata includes the name, type, path of the data object.

<p>For groups, general metadata also includes the name, type, size of all
the members of the group. Figure 4.5 shows an example of the general information 
of group.

<center>
<p><img SRC="images/property_general_group.gif" >
<br><b>Figure 4.5 General Properties of HDF group.</b></center>


<p>For a dataset (or image), the general metadata also includes the dataspace
information (rank, current and maximum size of each dimensions), datatype
information (type, size, order). 
Figure 4.6 shows an example of the metadata for a dataset.

<center>
<p><img SRC="images/property_general_dataset.gif" >
<br><b>Figure 4.6 General Properties of Dataset.</b></center>

<p>
To see the attributes of an object, you click the "Attribute" tab at
the Object Property Window. The name, type, size and value of all attributes
of the slected object are displayed in a table. Figure 4.7 shows and example
of the attribute display.

<center>
<p><img SRC="images/property_attribute.gif" >
<br><b>Figure 4.7 HDF Attributes</b></center>

<h2>
<a NAME="ug04edit"></a>4.4 Edit File and File Structure</h2>
The HDFView allow you to create ans save file, to add and delete objects in the
file. 
<B>Users should be aware that all the changes are made to the actual stored 
file.  This version does not support undo operation, editing results cannot 
be automatically recovered</b>.

<h3>
<a NAME="ug04file"></a>4.4.1 Create and Save File</h3>
The file creation dialog appears when you choose the "New HDF4/5" command from the 
file menu. Choose the path and the file name you want to create and click "Ok" button
from the new file dialog. A new file will be create with an empty root group.

<center>
<p><img SRC="images/new_file.gif" >
<br><b>Figure 4.8 Create New File</b></center>

<p>
Use "Save As" from the file menu to save the current selected file into a new file
of the same format, i.e. HDF4 to HDF4 or HDF5 to HDF5. (HDFView does not support
HDF4/5 conversion.) 

<p>For HDF5, a new file is written that does not contain the inaccessible 
objects and it packs the unusable space. Thus, the new file may be smaller 
than the original. <b>Dataset or attributes values that are object references 
can not be updated.</b> For HDF4, a new file is the exact copy, same file 
content and file size.

<h3>
<a NAME="ug04add"></a>4.4.2 Add and Delete Object</h3>
To create a new group, select the "New Group" command from the object menu. Then, 
give the name of the new group and parent group to which the new group is to be added. 

<center>
<p><img SRC="images/new_group.gif" >
<br><b>Figure 4.9 Create New Group</b></center>

<p>
To create a new dataset, select the "New Dataset" command from the object menu. Then, 
specify the name, path, datatype, dataspace and storage layout and compression of the 
new dataset. The current version only supports creating simple datatypes. This version 
cannot create an HDF4 VData or an HDF5 compound dataset (these objects can be viewed).
Supported datatypes include integers (byte, short, int, long), float, double, and
character. For HDF5, it also include String and Object references.

<center>
<p><img SRC="images/new_dataset.gif" >
<br><b>Figure 4.10 Create New Dataset</b></center>

<p>
To delete objects from the tree, you first select the objects, then choose the "Delete" 
command from the Object menu. A confirmation dialog appears to make sure you want to 
delete the selected objects. 

<b>Deleting an object from an HDF4 file is not supported</b>.
The deleting HDF5 object calls the H5Gunlink() function of the HDF5 library. The unlink 
function removes the link, and when an object has no remaining links it can be deleted. 
However, the HDF5 library does not currently reclaim the space in the file. This means 
that the size of the file does not shrink even though objects are removed. (Users are 
cautioned that repeatedly creating and deleting objects with H5View can cause the HDF5 
file to grow.) To get rid of the inaccessable objects, you have to save the current 
file into a new file and rename the new file to the current file. 


<h3>
<a NAME="ug04copy"></a>4.4.3 Copy and Paste Object</h3>
HDFView allows you to copy an object and paste it in the same file or a different file
of the same type. To copy and paste an HDF5 object from the tree, you first select 
the object and select the "Copy" command from the Object menu. You then select a group 
by a single click on the group that the object is pasted to. After you select the 
"Paste" command, the object is copied into the selected group. HDFView does not allow 
you to copy/paste an object of different format. "Paste" command will create a new 
object in the selected group instead of making an hard link.

<p>
You can also select multiple objects in the tree and apply the copy/paste action into 
the selected objects. Selection can be contiguous and discontinguous. To make a 
continguous selection, hold down the Shift key and click on the fisrt object, then 
click on the second object while holding down the Shift key. All the objects between 
the two objects will be selected inclusively. To make a discontinguous selection, 
hold down both the Ctrl key and click on the objects with the left mouse button. The 
objects being clicked will be selected. The rest of the operation of copying/pasting 
multiple objects is the same as that of copying/pasting single object. 

<p>
Copying a group will also copy all the decendents of the group. Copying a root
group is not allowed.

<h3>
<a NAME="ug04attribute"></a>4.4.4 Add, Delete and Modify Attribute</h3>
To add an attriubte, click the "Add" button on the attribute panel as in Figure 4.7. 
You create an attribute of a string, scalar, and 1D array of simple datatypes. 
Attributes of multiple dimensions or compound datatype are not supported. 

<center>
<p><img SRC="images/new_attribute.gif" >
<br><b>Figure 4.11 Create New Attribute</b></center>

<p>
To change the value of an attribute, type in the new value into the cell. Only 
string and scalar attributes can be modified. The new value must be interpretable 
as a value of the correct type for the attribute. For a string value, the value 
typed will be truncated to the size of the attribute if it is longer than the 
declared size of the attribute. A valid data value must follow the rules specified
by Table 5.1 at section <a href="ug05spreadsheet.html#ug05change">5.4 Change Data Value</a>

<P>
To delete an attribute, you select the attribute and click the "Delete" button.
<b>Deleting an attribute of an HDF4 object is not supported</b>.

<!-- BEGIN OF FOOTER INFO -->
<p>
<hr noshade size=1><a href="http://www.ncsa.uiuc.edu/">
<img SRC="http://www.ncsa.uiuc.edu/Images/NCSAhome/footerlogo.gif" ALT="NCSA" BORDER=0 ></a>
<br><font face="arial,helvetica" size=-1>
<a href="http://www.ncsa.uiuc.edu/">
The National Center for Supercomputing Applications</a></font>
<br><font face="arial,helvetica" size=-1>
<a href="http://www.uiuc.edu/">University
of Illinois at Urbana-Champaign</a></font>
<br><font face="arial,helvetica" size=-1>
<a href="mailto:hdfhelp@ncsa.uiuc.edu">hdfhelp@ncsa.uiuc.edu</a></font>
<p>
<i><font color="#FF0000" size=-1>Updated 6/25/2002</font></i>
<!- END OF FOOTER INFO -->

</body>
</html>
